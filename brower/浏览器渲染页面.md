# 浏览器渲染（渲染引擎 ）和内核（JS 引擎）

渲染流程基本一致</br>

- 首先解析 html 标签生成`DOM tree`
- 解析 link 和 style 标签，生成`CSSOM`，并且 html 解析和 css 解析是同步进行的。
- 当碰到 script 标签时会解析脚本，并阻塞 html 和 css 的解析，因为 JS 代码可能会改动标签和样式，一般放置在 body 标签后
- `DOM Tree 和 CSSOM`两者结合生成 render tree
- 进行回流和重绘
- 根据浏览器计算后的信息，会遍历渲染树，把内容显示在屏幕上。</br>

# 构建渲染树

从 DOM Tree 开始遍历可见的节点，对于可见的节点找到 CSSOM 规则树，并使用他们，添加上样式，组合生成渲染树
不可见节点：link ， script， meta 等，样式里设置 display: 'none',不会渲染到页面上

# css 解析和 html 解析的问题

css 解析会阻塞 html 解析吗？</br>
基于以上流程，因为是同步进行，所以不会阻塞的</br>
css 解析会阻塞 html 渲染吗？</br>
因为页面渲染`render tree`是 `DOM Tree` 和 `CSSOM` 结合生成的渲染树，肯定会阻塞渲染

# 补充(onLoad， DOMContentLoaded ， defer , async)

- onLoad: 等待 js，css,图片，音频，视频等加载完后执行
- DOMContentLoaded：等 html 页面解析完执行
- defer: 是 script 标签的属性，异步加载 JS 外链代码`<script defer async></script>`,异步加载，不会阻塞 html 和 css 解析,执行时间是解析结束，DOMContentLoaded 之前
- async: JS 文件下载完成后，立即执行

# 重绘和回流问题

- 重绘：不会影响页面布局的，例如设置颜色
- 回流：当盒子的尺寸，布局，隐藏，窗口视图变化等发生的改变

# 参考链接

[https://zhuanlan.zhihu.com/p/52076790](https://zhuanlan.zhihu.com/p/52076790)
