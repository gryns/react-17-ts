# 构造函数、原型和原型链

构造函数在创建时，函数名首字母要大写，用于区分普通函数。而原型`prototype`是函数上的一个属性

# 构造函数

```javascript
function Animal() {}
const animal = new Animal()
animal.name = "cat"
console.log(animal.name) // cat
```

# prototype

每个`构造函数`都有一个`prototype`属性，所有的实例对象都会继承原型上属性方法

```javascript
function Animal() {}
Animal.prototype.sleep = function (name) {
	console.log(name + ": 睡觉")
}
const animal = new Animal()
const animal1 = new Animal()
animal.name = "cat"
animal.sleep("dog") // dog: 睡觉
animal.sleep("pig") // pig: 睡觉
```

# **proto**

实例上`__proto__`是查找原型链用到的，它总是指向构造函数的原型`prototype`,其实是它俩相等`animal.__proto__ === Animal.prototype`

```javascript
console.log(animal.__proto__ === Animal.prototype) // true
```

# constructor

每个原型上都会有一个`constructor`属性，指向的是构造函数`Animal`

```javascript
console.log(animal1.constructor === Animal) // true
```

# 原型链

原型链其实就是顺着原型查找属性和方法的过程，简单理解就是原型连成链。首先查找自身上是否有属性和方法，然后去原型上查找`Animal`，然后去原型对象`Animal`上的原型`Object`上查找,知道查找到`Object`对象

```javascript
function Animal() {}
Animal.prototype.sleep = function (name) {
	console.log(name + ": 睡觉")
}
const animal = new Animal()
console.log(animal.__proto__ === Animal.prototype) // true
console.log(animal.__proto__.__proto__ === Object.prototype) // true
console.log(animal.__proto__.__proto__.__proto__ === null) // true
```

- 第 1 次：在实例上查找
- 第 2 次：在构造函数上查找
- 第 3 次：在 Object 对象上查找，直到查找到 null

# 参考链接

[https://zhuanlan.zhihu.com/p/365154649](https://zhuanlan.zhihu.com/p/365154649)
[EveryDay--原型与原型链](https://github.com/WindrunnerMax/EveryDay/blob/master/JavaScript/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.md)
